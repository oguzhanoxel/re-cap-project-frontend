<div class="container" style="margin-top: 83px; margin-left: 20px; margin-right: 20px;">
    <div class="row">
        <div class="col-md-6">
            <div class="card text-center">
                <div class="card-header">
                <h5 class="card-title">Profile</h5>
                </div>
                <div class="card-body">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td><p class="card-text">First name: {{ user.firstName }} Last name: {{ user.lastName }}</p></td>
                                <td><button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#fullNameModal">Edit</button></td>
                            </tr>
                            <tr>
                                <td><p class="card-text">E-mail: {{ user.email }}</p></td>
                                <td><button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#emailModal">Edit</button></td>
                            </tr>
                            <tr>
                                <td><button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#passwordModal">Reset Password</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card text-center">
                <div class="card-header">
                <h5 class="card-title">My Rents</h5>
                </div>
                <div class="card-body">
                    <table class="table">
                        <thead>
                            <tr>
                              <th scope="col">Rent Date</th>
                              <th scope="col">Return Date</th>
                              <th scope="col"></th>
                            </tr>
                          </thead>
                        <tbody>
                          <tr *ngFor="let rental of rentals">
                            <td>{{ rental.rentDate }}</td>
                            <td>{{ rental.returnDate }}</td>
                            <td><button routerLink="/cars/{{ rental.carID }}" class="btn btn-sm btn-primary">Car Page</button></td>
                          </tr>
                        </tbody>
                      </table>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="fullNameModal" tabindex="-1" aria-labelledby="fullNameModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="fullNameModal">Change Name</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form [formGroup]="updateFullNameForm" class="row g-3">
                <div class="col-auto">
                    <input formControlName="firstName" type="text" class="form-control" id="firstName" placeholder="First Name">
                </div>
                <div class="col-auto">
                    <input formControlName="lastName" type="text" class="form-control" id="lastName" placeholder="Last Name">
                </div>
            </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button (click)="updateFullName()" type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
</div>

<div class="modal fade" id="emailModal" tabindex="-1" aria-labelledby="emailModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="emailModal">Change Email</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form [formGroup]="updateEmailForm" class="row g-3">
                <div class="col-auto text-center">
                    <input formControlName="email" type="email" class="form-control" id="email" placeholder="example@example.com">
                </div>
            </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button (click)="updateEmail()" type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
</div>

<div class="modal fade" id="passwordModal" tabindex="-1" aria-labelledby="passwordModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="passwordModal">Reset Password</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form [formGroup]="updatePasswordForm" class="row g-3">
                <div class="col-auto">
                    <input formControlName="password1" type="password" class="form-control" id="password1" placeholder="Password">
                </div>
                <div class="col-auto">
                    <input formControlName="password2" type="password" class="form-control" id="password2" placeholder="Confirm Password">
                </div>
            </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button (click)="updatePassword()" type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
</div>
